- ## 引言

  #### 计算应用的分类及特性

  - 计算机分类
    个人计算机（PC）：通常包含图形显示器、键盘和鼠标等
    服务器（server）：用于为多用户运行大型程序的计算机，通常由多个用户并行使用，并且一般通过网络访问。
    超级计算机(supercomputer)：具有超高性能和超高成本的一类计算机，一般配置为服务器
    嵌入式计算机(embedded computer):嵌入到其他设备中的计算机，一般运行预定义的一个或者一组应用程序。
  - 二进制术语

  | 十进制术语     | 缩写   | 数值      | 二进制术语    | 缩写   | 数值     | 数值差别 |
  | --------- | ---- | ------- | -------- | ---- | ------ | ---- |
  | kilobyte  | KB   | $10^3$  | kibibyte | KiB  | $2^10$ | 2%   |
  | megabyte  | MB   | $10^6$  | mebibyte | MiB  | $2^20$ | 5%   |
  | gigabyte  | GB   | $10^9$  | gibibyte | GiB  | $2^30$ | 7%   |
  | terabyte  | TB   | $10^12$ | tebibyte | TiB  | $2^40$ | 10%  |
  | petabyte  | PB   | $10^15$ | pebibyte | PiB  | $2^50$ | 13%  |
  | exabyte   | EB   | $10^18$ | exbibyte | EiB  | $2^60$ | 15%  |
  | zettabyte | ZB   | $10^21$ | zebibyte | ZiB  | $2^70$ | 18%  |
  | yottabyte | YB   | $10^24$ | yobibyte | YiB  | $2^80$ | 21%  |

  #### 硬件概念

  -*** 组成计算机的5个经典部件是输入、输出、存储器、数据通路（在计算机中也称为运算器）和控制器，其中最后两个部件合称为处理器。***

  - 显示器
    1. 最重要的I／O 设备
    2. 液晶显示（LCD）:轻巧，低功耗，并非光源，而是控制光的传输。
  - 处理器
    1. 处理器包含数据通路和控制器
    2. 数据通路：负责完成算术运算
    3. 控制器：负责指导数据通路、存储器和I／O设备按照程序的指令正确执行
  - 存储器
    1. 内存：程序运行时的存储空间，由多片DRAM芯片组成（动态随机访问存储器）。与串行访问内存（如磁带）不同的是，无论数据存储在什么位置，DRAM访问内存所需的时间基本相同。
    2. DRAM：动态随机访问存储器，集成电路形式的存储器。
    3. 缓存(cache)：一种小而快的存储器，一般作为大而慢的存储器的缓冲。cache采用静态随机访问存储器（SRAM）技术，其速度更快而且不那么密集（集成度更低），因此价格更贵。SRAM和DRAM是存储器层次中的两层。
    4. 数据安全
       - 易失性存储器：类似DRAM的存储器，仅在加电时保存数据。
       - 非易失性存储器：再断电时仍可保持数据的存储器，用于存储运行间的程序，例如DVD。
       - 为了区分易失性存储器与非易失性存储器，将前者称为主存储器，将后者称为二级存储器。DRAM在主存中占据主导地位，而磁盘在二级存储器中占主导地位的时间更早。闪存同硬盘一样非易失，比磁盘快，但会老化。
  - 处理器和存储器制造技术
    1. 晶体管（transistor）：受电流控制的开关
    2. 集成电路（IC）：成千上万个晶体管组成的芯片
    3. 超大规模集成电路（VLSI）：数十万到数百万晶体管组成的电路。
    4. 硅的导电能力不强，称为半导体，可制成可控的导电体或绝缘体（类似开关）

  #### 从硬件到软件

  - 操作系统的重要作用：
    1. 处理基本的出入和输出操作
    2. 分配外存和内存
    3. 为多个应用程序提供共享计算机资源的服务
  - 高级语言到二进制码（MIPS指令集）：编译，汇编

  #### 程序性能

  - 软硬件影响程序性能

  | 软件或硬件组成元素      | 该元素如何影响性能            |
  | -------------- | -------------------- |
  | 算法             | 决定了源码级语句的数量和I／O操作的数量 |
  | 编程语言、编译器和体系结构  | 决定了每条源码级语句对应的计算机指令数量 |
  | 处理器和存储系统       | 决定了指令的执行速度           |
  | I／O系统（硬件和操作系统） | 决定了I／O操作可能的执行速度      |

  - 性能的定义

    1. 响应时间：也叫执行时间，计算机完成***某任务（一个任务）***所需的总时间，包括硬件访问、内存访问、I／O活动、操作系统开销和CPU执行时间等
    2. 吞吐率：也叫带宽（bandwidth），性能的另一种度量参数，表示单位时间内完成的任务数量
    3. 性能一般用执行时间的倒数来表示。$性能_A > 性能_B$ 当且仅当 $\frac{1}{执行时间_A} < \frac{1}{执行时间_B}$ 
    4. 题目中一台计算机比另一台计算机快慢几倍，用性能的比来表示

  - 性能的度量

    1. CPU执行时间（CPU时间）：执行某一任务在CPU上花费的时间
    2. 用户CPU时间：程序本身所花费的CPU时间
    3. 系统CPU时间：为执行程序而花费在操作系统上的时间

    ------

    1. 时钟周期（tick、clock period、cycle）：计算机一个时钟周期的时间，通常是处理器时钟，一般为常数。是时钟频率的倒数
    2. 时钟长度：每个时钟周期持续的时间长度。
    3. 一个程序的CPU执行时间 = 一个程序的时钟周期数 $\times$  时钟周期时间 = 一个程序的时钟周期数 $\times \frac{1}{时钟频率}$

  - 陷阱：用性能公式的一个子集来度量性能

    1. MIPS（每秒百万条指令）不能取代时间去度量性能
    2. $MIPS = \frac{指令数}{执行时间 \times 10^6}  =  \frac{时钟频率}{CPI \times 10^6}$ 

  - 指令的性能

    1. CPI ：每条指令所需时钟周期数的平均值
    2. 计算
       - CPU时钟周期数 = 程序的指令数 $\times$ CPI（平均每条指令所需的时钟周期数）
       - CPU时间 = CPU时钟周期数 $\times$ 时钟周期
       - 结合以上两条 ， CPU时间 = 指令数 $\times$ CPI $\times$ 时钟周期

  #### 功耗墙

  - 时钟频率与功耗息息相关
  - $功耗 =负载电容\times \, 电压^2 \times 开关频率$
  - 相对功耗即功耗比
  - 利用率低的计算机功耗不一定低